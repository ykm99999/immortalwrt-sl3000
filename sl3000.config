# 模块支持
CONFIG_MODULES=y
# 使用 .config 配置文件
CONFIG_HAVE_DOT_CONFIG=y
# 主机操作系统 Linux
CONFIG_HOST_OS_LINUX=y

# 目标平台 联发科
CONFIG_TARGET_mediatek=y
# 子平台 MT7981
CONFIG_TARGET_mediatek_mt7981=y
# 设备 sl_3000 (eMMC)
CONFIG_TARGET_mediatek_mt7981_DEVICE_sl_3000-emmc=y

# 支持子目标
CONFIG_HAS_SUBTARGETS=y
# 支持设备
CONFIG_HAS_DEVICES=y
# 目标板名称
CONFIG_TARGET_BOARD="mediatek"
# 子目标
CONFIG_TARGET_SUBTARGET="mt7981"
# 配置文件
CONFIG_TARGET_PROFILE="DEVICE_sl_3000-emmc"
# 架构包
CONFIG_TARGET_ARCH_PACKAGES="aarch64_cortex-a53"
# 默认编译优化
CONFIG_DEFAULT_TARGET_OPTIMIZATION="-Os -pipe -mcpu=cortex-a53"
# CPU 类型
CONFIG_CPU_TYPE="cortex-a53"
# 内核版本 5.4
CONFIG_LINUX_5_4=y

# 默认功能
CONFIG_DEFAULT_autocore-arm=y
CONFIG_DEFAULT_automount=y
CONFIG_DEFAULT_base-files=y
CONFIG_DEFAULT_dnsmasq-full=y
CONFIG_DEFAULT_dropbear=y
CONFIG_DEFAULT_firewall4=y
CONFIG_DEFAULT_fstools=y
CONFIG_DEFAULT_netifd=y
CONFIG_DEFAULT_nftables=y
CONFIG_DEFAULT_ppp=y
CONFIG_DEFAULT_ppp-mod-pppoe=y
CONFIG_DEFAULT_uci=y
CONFIG_DEFAULT_uclient-fetch=y
CONFIG_DEFAULT_urngd=y

# 去掉 USB 相关
# CONFIG_DEFAULT_usbutils is not set
# CONFIG_DEFAULT_luci-app-usb-printer is not set
# CONFIG_DEFAULT_kmod-usb2 is not set
# CONFIG_DEFAULT_kmod-usb3 is not set
# CONFIG_DEFAULT_kmod-usb-net-rndis is not set

# 硬件支持
CONFIG_HAS_FPU=y
CONFIG_AUDIO_SUPPORT=y
CONFIG_GPIO_SUPPORT=y
CONFIG_PCI_SUPPORT=y
CONFIG_RTC_SUPPORT=y
CONFIG_USES_DEVICETREE=y
CONFIG_USES_INITRAMFS=y
CONFIG_USES_SQUASHFS=y
CONFIG_EMMC_SUPPORT=y
CONFIG_NAND_SUPPORT=y
CONFIG_ARCH_64BIT=y
CONFIG_aarch64=y
CONFIG_ARCH="aarch64"

# 镜像配置
CONFIG_TARGET_ROOTFS_INITRAMFS=y
CONFIG_TARGET_INITRAMFS_COMPRESSION_NONE=y
CONFIG_TARGET_ROOTFS_TARGZ=y
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256

# 构建选项
CONFIG_JSON_OVERVIEW_IMAGE_INFO=y
CONFIG_SIGNED_PACKAGES=y
CONFIG_SIGNATURE_CHECK=y
CONFIG_DOWNLOAD_CHECK_CERTIFICATE=y
CONFIG_SHADOW_PASSWORDS=y
CONFIG_INCLUDE_CONFIG=y

# 内核选项
CONFIG_KERNEL_PRINTK=y
CONFIG_KERNEL_SWAP=y
CONFIG_KERNEL_DEBUG_FS=y
CONFIG_KERNEL_KALLSYMS=y
CONFIG_KERNEL_DEBUG_KERNEL=y
CONFIG_KERNEL_DEBUG_INFO=y
CONFIG_KERNEL_DEBUG_INFO_REDUCED=y
CONFIG_KERNEL_FRAME_WARN=2048

# 新增功能：Docker
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
CONFIG_PACKAGE_luci-app-docker=y

# 新增功能：Passwall
CONFIG_PACKAGE_luci-app-passwall=y

# 新增功能：SSR Plus
CONFIG_PACKAGE_luci-app-ssr-plus=y
