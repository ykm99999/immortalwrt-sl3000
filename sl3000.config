# =========================
# 基础硬件平台配置
# =========================
CONFIG_MODULES=y
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_mt7981=y
CONFIG_TARGET_mediatek_mt7981_DEVICE_sl_3000-emmc=y
CONFIG_TARGET_BOARD="mediatek"
CONFIG_TARGET_SUBTARGET="mt7981"
CONFIG_TARGET_PROFILE="DEVICE_sl_3000-emmc"
CONFIG_TARGET_ARCH_PACKAGES="aarch64_cortex-a53"
CONFIG_CPU_TYPE="cortex-a53"
CONFIG_LINUX_5_4=y

CONFIG_GPIO_SUPPORT=y
CONFIG_USES_DEVICETREE=y
CONFIG_USES_SQUASHFS=y
CONFIG_EMMC_SUPPORT=y
CONFIG_NAND_SUPPORT=y
CONFIG_ARCH_64BIT=y

CONFIG_TARGET_ROOTFS_SQUASHFS=y

CONFIG_KERNEL_PRINTK=y

# =========================
# Docker 支持
# =========================
CONFIG_PACKAGE_luci-app-docker=y
CONFIG_PACKAGE_kmod-veth=y
CONFIG_PACKAGE_kmod-bridge=y
CONFIG_PACKAGE_kmod-overlay=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-btrfs=y
CONFIG_PACKAGE_kmod-fs-xfs=y
CONFIG_PACKAGE_kmod-cgroup=y
CONFIG_PACKAGE_kmod-nf-nat=y

# =========================
# 网络加速 (Turbo ACC + Flow Offloading)
# =========================
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_kmod-shortcut-fe=y
CONFIG_PACKAGE_kmod-tcp-bbr=y
CONFIG_PACKAGE_kmod-nf-flow=y   # Flow Offloading 支持
CONFIG_PACKAGE_nft-fullcone=y   # 全锥型 NAT 支持
CONFIG_PACKAGE_luci-app-sqm=y   # 智能队列管理 SQM

# =========================
# Passwall2 支持
# =========================
CONFIG_PACKAGE_luci-app-passwall2=y
# 已依赖 tun/nat/conntrack
CONFIG_PACKAGE_kmod-tun=y
CONFIG_PACKAGE_kmod-nf-nat=y
CONFIG_PACKAGE_kmod-nf-conntrack=y
